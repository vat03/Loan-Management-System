<mat-dialog-content>
    <h2>{{ isEdit ? 'Edit' : 'Add' }} Loan Scheme</h2>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="fill">
            <mat-label>Scheme Name</mat-label>
            <input matInput formControlName="schemeName" required />
            <mat-error *ngIf="form.get('schemeName')?.hasError('required')">
                Scheme name is required
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Interest Rate (%)</mat-label>
            <input matInput formControlName="interestRate" type="number" required />
            <mat-error *ngIf="form.get('interestRate')?.hasError('required')">
                Interest rate is required
            </mat-error>
            <mat-error *ngIf="form.get('interestRate')?.hasError('min')">
                Interest rate must be positive
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Tenure (Months)</mat-label>
            <input matInput formControlName="tenureMonths" type="number" required />
            <mat-error *ngIf="form.get('tenureMonths')?.hasError('required')">
                Tenure is required
            </mat-error>
            <mat-error *ngIf="form.get('tenureMonths')?.hasError('min')">
                Tenure must be positive
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Document Types</mat-label>
            <mat-select formControlName="requiredDocumentTypeIds" multiple required>
                <mat-option [value]="1">ID Proof</mat-option>
                <mat-option [value]="2">Address Proof</mat-option>
                <mat-option [value]="3">Income Proof</mat-option>
            </mat-select>
            <mat-error *ngIf="form.get('requiredDocumentTypeIds')?.hasError('required')">
                At least one document type is required
            </mat-error>
        </mat-form-field>

        <div class="actions">
            <button mat-button type="button" (click)="onCancel()">Cancel</button>
            <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
                {{ isEdit ? 'Update' : 'Add' }}
            </button>
        </div>
    </form>
</mat-dialog-content>